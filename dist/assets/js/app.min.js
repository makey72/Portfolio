let cursor=document.querySelector(".cursor"),cursorFollower=document.querySelector(".cursor-follower");document.addEventListener("mousemove",e=>{var t=e.clientX,r=e.clientY;cursor.style.left=t+"px",cursor.style.top=r+"px";let o=e.clientX-10,s=e.clientY-10;setTimeout(function(){cursorFollower.style.left=o+"px",cursorFollower.style.top=s+"px"},10)});var scroll=new SmoothScroll('a[href*="#"]');let burgerBtn=document.getElementById("burger-menu"),burgerMenu=document.querySelector(".burger-menu__nav");burgerBtn.addEventListener("click",()=>{burgerMenu.classList.contains("open")?(burgerBtn.classList.remove("open"),burgerMenu.classList.remove("open")):(burgerBtn.classList.add("open"),burgerMenu.classList.add("open"))});let items=document.querySelectorAll(".project__item"),projectBlog=document.querySelectorAll(".project__blog"),blogItem=document.querySelectorAll(".project__blog-item");items.forEach((t,r)=>{t.addEventListener("click",e=>{projectBlog.forEach((e,t)=>{e.classList.contains("show")&&e.classList.remove("show"),items.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")})}),t.classList.contains("active")||t.classList.add("active"),projectBlog[r].classList.contains("show")||projectBlog[r].classList.add("show")})}),blogItem.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("active")?e.classList.contains("active")&&e.classList.remove("active"):e.classList.add("active")})});let btn=document.getElementById("modal-btn"),modal=document.querySelector(".modal");btn.addEventListener("click",()=>{modal.classList.contains("open")||modal.classList.add("open")}),document.addEventListener("click",e=>{"modal__overlay"!==e.target.className&&"modal__close modal-btn"!==e.target.className||modal.classList.remove("open")});const swiper=new Swiper(".swiper",{loop:!0,spaceBetween:20,slidesPerView:1,pagination:{el:".swiper-pagination"},breakpoints:{768:{slidesPerView:2}},navigation:{nextEl:".slider__button-next",prevEl:".slider__button-prev"}});var element=document.querySelector(".phone__input"),maskOptions={mask:"+{7}(000)000-00-00"},mask=IMask(element,maskOptions);let links=document.querySelectorAll(".link");links.forEach(e=>{e.addEventListener("mouseenter",()=>{cursor.classList.add("active"),cursorFollower.classList.add("active")})}),links.forEach(e=>{e.addEventListener("mouseleave",()=>{cursor.classList.remove("active"),cursorFollower.classList.remove("active")})});let linkBtn=document.querySelectorAll(".link-btn");linkBtn.forEach(e=>{e.addEventListener("mouseenter",()=>{cursor.classList.add("active-btn"),cursorFollower.classList.add("active-btn")})}),linkBtn.forEach(e=>{e.addEventListener("mouseleave",()=>{cursor.classList.remove("active-btn"),cursorFollower.classList.remove("active-btn")})});let buttons=document.querySelectorAll(".button");buttons.forEach(e=>{e.addEventListener("mouseenter",()=>{cursor.classList.add("active"),cursorFollower.classList.add("button")})}),buttons.forEach(e=>{e.addEventListener("mouseleave",()=>{cursor.classList.remove("active"),cursorFollower.classList.remove("button")})});let modalBtn=document.querySelectorAll(".modal-btn");modalBtn.forEach(e=>{e.addEventListener("mouseenter",()=>{cursor.classList.add("modal-btn"),cursorFollower.classList.add("modal-btn")})}),modalBtn.forEach(e=>{e.addEventListener("mouseleave",()=>{cursor.classList.remove("modal-btn"),cursorFollower.classList.remove("modal-btn")})});let inputs=document.querySelectorAll(".input");inputs.forEach(e=>{e.addEventListener("mouseenter",()=>{cursor.classList.add("input-active"),cursorFollower.classList.add("input-active")})}),inputs.forEach(e=>{e.addEventListener("mouseleave",()=>{cursor.classList.remove("input-active"),cursorFollower.classList.remove("input-active")})}),window.addEventListener("load",windowLoadHandler,!1);var Debugger=function(){};function windowLoadHandler(){canvasApp()}function canvasApp(){var t,r,o,s,l,n,c,a,i,u,d,m,v,p,f,h,L,g,b,y,w,E,S,_,q,k,x,F,M,B,j,T,Y,V,e=document.getElementById("canvasOne"),A=e.getContext("2d");function I(){if(o<=++s)for(j=s=0;j<l;j++){Y=2*Math.random()*Math.PI,V=Math.acos(2*Math.random()-1),T=h*Math.sin(V)*Math.cos(Y),Y=h*Math.sin(V)*Math.sin(Y),V=h*Math.cos(V);var e=function(e,t,r,o,s,l){var a;null!=c.first?null!=(a=c.first).next?(c.first=a.next,a.next.prev=null):c.first=null:a={};null==n.first?((n.first=a).prev=null,a.next=null):(a.next=n.first,n.first.prev=a,(n.first=a).prev=null);a.x=e,a.y=t,a.z=r,a.velX=o,a.velY=s,a.velZ=l,a.age=0,a.dead=!1,Math.random()<.5?a.right=!0:a.right=!1;return a}(T,L+Y,g+V,.002*T,.002*Y,.002*V);e.attack=50,e.hold=50,e.decay=160,e.initValue=0,e.holdValue=a,e.lastValue=0,e.stuckTime=80+20*Math.random(),e.accelX=0,e.accelY=_,e.accelZ=0}for(p=(p+f)%(2*Math.PI),x=Math.sin(p),F=Math.cos(p),A.fillStyle="#1f1f1f",A.fillRect(0,0,t,r),e=n.first;null!=e;)k=e.next,e.age++,e.age>e.stuckTime&&(e.velX+=e.accelX+w*(2*Math.random()-1),e.velY+=e.accelY+E*(2*Math.random()-1),e.velZ+=e.accelZ+S*(2*Math.random()-1),e.x+=e.velX,e.y+=e.velY,e.z+=e.velZ),M=F*e.x+x*(e.z-g),B=-x*e.x+F*(e.z-g)+g,u=i/(i-B),e.projX=M*u+d,e.projY=e.y*u+m,e.age<e.attack+e.hold+e.decay?e.age<e.attack?e.alpha=(e.holdValue-e.initValue)/e.attack*e.age+e.initValue:e.age<e.attack+e.hold?e.alpha=e.holdValue:e.age<e.attack+e.hold+e.decay&&(e.alpha=(e.lastValue-e.holdValue)/e.decay*(e.age-e.attack-e.hold)+e.holdValue):e.dead=!0,e.projX>t||e.projX<0||e.projY<0||e.projY>r||v<B||e.dead?function(e){n.first==e?null!=e.next?(e.next.prev=null,n.first=e.next):n.first=null:null==e.next?e.prev.next=null:(e.prev.next=e.next,e.next.prev=e.prev);null==c.first?((c.first=e).prev=null,e.next=null):(e.next=c.first,c.first.prev=e,(c.first=e).prev=null)}(e):(B=1<(B=1-B/y)?1:B<0?0:B,A.fillStyle=q+B*e.alpha+")",A.beginPath(),A.arc(e.projX,e.projY,u*b,0,2*Math.PI,!1),A.closePath(),A.fill()),e=k}s=(o=1)-1,l=8,q="rgba("+255+","+255+","+255+",",a=1,t=e.width,r=e.height,d=t/2,m=r/2,v=(i=320)-2,n={},c={},S=E=w=.1,b=2.5,L=_=0,g=-3-(h=280),y=-750,f=2*Math.PI/1600,p=0,setInterval(I,1e3/24)}Debugger.log=function(e){try{console.log(e)}catch(e){return}};let form=document.querySelector("#form"),inputForm=document.querySelectorAll("._rq"),inputFormTel=document.querySelector("._rq-tel"),sending=document.querySelector(".form__sending"),success=document.querySelector(".form__success"),err=document.querySelector(".form__err"),minSymbol=3,minTel=16;form.addEventListener("submit",formSend);let error=0;async function formSend(e){e.preventDefault();var t=new FormData(form);error===validationErr(e)&&(sending.classList.add("_load"),(await fetch("form.php",{method:"POST",body:t})).ok?(sending.classList.remove("_load"),success.classList.add("_success"),inputFormTel.value="",inputForm.forEach(e=>{e.value=""}),setTimeout(e=>success.classList.remove("_success"),2e3)):(sending.classList.remove("_load"),err.classList.add("_err"),inputForm.forEach(e=>{e.value=""}),inputFormTel.value="",setTimeout(e=>err.classList.remove("_err"),2e3)))}function validationErr(e){let t=0;for(let e=0;e<inputForm.length;e++)inputForm[e].value.length<minSymbol?(inputForm[e].classList.add("_rq-err"),t++):inputForm[e].classList.remove("_rq-err");return inputFormTel.value.length<minTel?(inputFormTel.classList.add("_rq-err"),t++):inputFormTel.classList.remove("_rq-err"),t}window.addEventListener("DOMContentLoaded",function(){function t(e){pageYOffset>=e.offsetTop-.9*window.screen.height&&e.classList.add("show")}0<pageYOffset&&(t(document.querySelector("#about")),t(document.querySelector("#project")),t(document.querySelector("#feedback")),t(document.querySelector("#reviews"))),window.addEventListener("scroll",e=>{t(document.querySelector("#about")),t(document.querySelector("#project")),t(document.querySelector("#feedback")),t(document.querySelector("#reviews")),console.log(window.screen.height,pageYOffset)})});